<html>
<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <link href="mt.ico" rel="icon" />
    <link href="metro/css/metro-all.css?ver=@@b-version" rel="stylesheet" />
    <link href="desktop.css" rel="stylesheet" />
	  <link href="font/fonts.css" rel="stylesheet" type="text/css" />
    <script src="/__/firebase/5.4.1/firebase-app.js"></script>
    <!-- <script src="https://cdn.firebase.com/libs/firebaseui/3.4.1/firebaseui.js"></script> -->
    <script src="../js/firebaseui.js"></script>
    <script src="/__/firebase/5.4.1/firebase-auth.js"></script>

    <script src="js/jquery-3.3.1.min.js"></script>
    <script src="metro/js/metro.js"></script>
    <script src="desktop.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue"></script>


    <title>Maker ToolBox</title>



</head>
<body>
    <div class="desktop">
        <div class="grid fg-white h-100" style="margin:0 !important">
            <div class="row h-100" style="margin-right:0">
                <div class="stub pr-0">
                    <ul class="sidenav-simple fg-black">
                        <li>
                            <a href="#" onclick="createWindow(400, 'bubble', 'General Chat', 'windows/chat-general.html', 'general-chat')">
                                <span class="mif-bubble icon"></span>
                                <span class="title">General Chat</span>
                            </a>
                        </li>

                        <li>
                            <a href="#" onclick="createWindowIframe(230, 'eyedropper', 'Color Picker', 'windows/color-picker.html', 'color-picker')">
                                <span class="mif-eyedropper icon"></span>
                                <span class="title">Color Picker</span>
                            </a>
                        </li>

                        <li>
                            <a href="#" onclick="createWindow(400, 'github', 'GitHub Projects', 'windows/repos.html', 'repos')">
                                <span class="mif-github icon"></span>
                                <span class="title">GitHub Projects</span>
                            </a>
                        </li>

                        <li>
                            <a href="#" onclick="createWindow(700, 'widgets', 'About', 'windows/about.html', 'about')">
                                <span class="mif-widgets icon"></span>
                                <span class="title">About</span>
                            </a>
                        </li>
                        <li>
                            <a href="#" onclick="createWindow(700, 'lock', 'Login', 'windows/login.html', 'auth')">
                                <span class="mif-lock icon"></span>
                                <span class="title">Login</span>
                            </a>
                        </li>
                        <li>
                            <a href="#" id="nanobrain"  onclick="createWindowIframe(700, 'books', 'Nanobrain.io', 'https://makertoolbox.nanobrain.io/index?ref=makertoolbox', 'nanobrain')">
                                <span class="mif-books icon"></span>
                                <span class="title">Nanobrain</span>
                            </a>
                        </li>

                        <li>
                            <a href="#" id="stackoverflow"  onclick="createWindowIframe(700, 'stackoverflow', 'Stack Overflow', 'http://cors.io/?https://stackoverflow.com?makertoolbox', 'stackoverflow')">
                                <span class="mif-stackoverflow icon"></span>
                                <span class="title">Stack Overflow</span>
                            </a>
                        </li>

                        <li>
                            <a href="#" id="twitter"  onclick="createWindowIframe(700, 'twitter', 'Twitter', 'https://www.twitter.com?makertoolbox', 'twitter')">
                                <span class="mif-twitter icon"></span>
                                <span class="title">Twitter</span>
                            </a>
                        </li>

                                      </ul>
                </div>
                <div class="cell p-0">
                    <div class="window-area bg-dark h-100"></div>
                </div>
            </div>
        </div>


        <div class="task-bar">
            <div class="task-bar-section">
                <button class="task-bar-item" onclick="toggleMenu();">
                    <span class="mif-apps"></span>
                </button>
            </div>

            <div class="task-bar-section tasks"></div>
        </div>
    </div>


    <script>
        $(document).ready(function () {
        //    createWindow(700, 'widgets', 'About', 'windows/about.html', 'about');
        });

        function createWindow(width, icon, title, file, id) {
            Desktop.createWindow({
                width: width,
                icon: "<span class='mif-" + icon + "'></span>",
                title: title,
                content: "<div id=\"" + id + "_wrapper\"></div>",
                clsContent: "bg-dark"
            });

            $('#' + id + '_wrapper').load(file);
        }

        function createWindowIframe(width, icon, title, url, id) {
            Desktop.createWindow({
                width: width,
                icon: "<span class='mif-" + icon + "'></span>",
                title: title,
                content: "<div id=\"" + id + "_wrapper\" class=\"window_wrapper no-overflow\"><iframe src=\"" + url + "\" frameborder=\"0\"></iframe></div>",
                clsContent: "bg-dark"
            });
        }

        function toggleMenu() {
            $('.sidenav-simple').toggleClass('sidenav-simple-expand-md');
        }

    </script>

    <script>
                         var url = window.location.pathname;
                        if (url === "/nanobrain.io"){
                           console.log("nanobrain detected");
                            createWindowIframe(700, 'nanobrain', 'Nanobrain.io', 'https://nanobrain.io/index', 'nanobrain');}
                          // if (url === "/fun_zach"){
                          //   createWindowIframe(700, 'zach', 'Zach Latta Jokes', 'scripts/fun/zach-latta/index.html', 'zach');
                          //   }

                            if (url === "/fun_zach"){
                              createWindowIframe(700, 'zach', 'Zach Latta Jokes', 'scripts/fun/zach-latta/index.html', 'zach');
                              }

                              if (url.startsWith("/url=") === true){
                                var url = url.substr(5);
                                console.log("this is the url: " + url);
                                  createWindowIframe(700, 'chrome', 'Site Title', "www.google.com", 'urlsite');
                              }



                         </script>
</body>

</html>
